# Module Responsibilities

The table below lists every C# source file in `Src/` and the role it plays in
the code generation pipeline.  Use this as a quick reference when navigating or
writing tests.

| File | Responsibility | Key functions / notes |
| --- | --- | --- |
| `Analysis/DependencyHelpers.cs` | Record external type usage for imports | `TrackTypeDependency` |
| `Analysis/ExplicitInterfaceAnalyzer.cs` | Detect explicit interface implementations | `GetExplicitInterfaceImplementations`, `HasAnyExplicitImplementation` |
| `Analysis/InterfaceAnalysis.cs` | Diamond detection, `_Base` interface creation, intersection aliases | `HasDiamondInheritance`, `GenerateBaseInterface`, `CreateIntersectionAlias`, `PruneRedundantInterfaceExtends` |
| `Analysis/MemberFilters.cs` | Per-member include logic | `ShouldIncludeMember` |
| `Analysis/OverloadBuilder.cs` | Adds interface/base overloads (instance + static) | `AddInterfaceCompatibleOverloads`, `AddBaseClassCompatibleOverloads` |
| `Analysis/NameTransformApplicator.cs` | Applies CLI naming transforms & records bindings | `Apply`, `GetBindings` |
| `Analysis/TypeFilters.cs` | Type-level include logic | `ShouldIncludeType`, `IsStaticOnly`, `ShouldSkipInterfaceInImplementsClause` |
| `Analysis/TypeReferenceChecker.cs` | Detect references to type parameters | `PropertyTypeReferencesTypeParams`, `TypeReferencesAnyTypeParam` |
| `Cli/Program.cs` | CLI entry point | `Main`, `GenerateDeclarationsAsync` |
| `Config/GeneratorConfig.cs` | Load/represent generator configuration | `LoadAsync` |
| `Diagnostics/GenerationLogger.cs` | Optional warnings log | `CreateLog` |
| `Emit/ClassEmitter.cs` | Build class declarations | `ProcessClass` |
| `Emit/ConstructorEmitter.cs` | Map constructors | `ProcessConstructor` |
| `Emit/DeclarationRenderer.cs` | Render `.d.ts` text | `RenderDeclarations` |
| `Emit/EnumEmitter.cs` | Map enums | `ProcessEnum` |
| `Emit/InterfaceEmitter.cs` | Map interfaces | `ProcessInterface` |
| `Emit/MethodEmitter.cs` | Map methods & parameters | `ProcessMethod`, `ProcessParameter`, metadata helpers |
| `Emit/PropertyEmitter.cs` | Map properties, apply covariance wrappers | `ProcessProperty`, `ApplyCovariantWrapperIfNeeded` |
| `Emit/StaticNamespaceEmitter.cs` | Map static-only types | `ProcessStaticNamespace` |
| `Emit/Writers/*` | Formatting helpers used by renderer | `ImportWriter`, `IntrinsicsWriter`, `MemberWriter`, `TypeWriter` |
| `Mapping/ArrayMapping.cs` | Array mapping helper | used via `TypeMapper` |
| `Mapping/DelegateMapping.cs` | Delegate mapping helper | `MapDelegateToFunctionType` |
| `Mapping/GenericMapping.cs` | Generic type handling | `MapGenericType` |
| `Mapping/PrimitiveMapping.cs` | Primitive + system type mapping | `MapPrimitiveType`, `MapSystemType` |
| `Mapping/TypeMapper.cs` | Entry point for mapping | `MapType`, `SetContext` |
| `Mapping/TypeNameHelpers.cs` | Identifier formatting (nested types, arity) | `GetTypeName` helpers |
| `Mapping/TypeNameMapping.cs` | Full CLR name resolution | `GetFullTypeName` |
| `Metadata/MetadataProcessor.cs` | Build metadata model | `ProcessTypeMetadata` |
| `Metadata/MetadataWriter.cs` | Serialize metadata JSON | `WriteMetadataAsync` |
| `Metadata/SignatureFormatter.cs` | Format C# signatures for metadata | `FormatMethod`, etc. |
| `Model/Declarations.cs` | Declaration model records | `NamespaceInfo`, `ClassDeclaration`, etc. |
| `Model/MetadataModel.cs` | Metadata model records | `AssemblyMetadata`, `TypeMetadata`, `MemberMetadata` |
| `Model/TypeInfo.cs` | Emitter IR | `TypeInfo.MethodInfo`, `TypeInfo.PropertyInfo`, etc. |
| `Pipeline/AssemblyProcessor.cs` | Orchestrates mapping/analysis/emit per assembly | `ProcessAssembly`, `ProcessAssemblyMetadata` |
| `Pipeline/DependencyTracker.cs` | Stores type â†’ assembly mappings | `RecordTypeReference`, `ToJson` |
| *(Bindings serialization)* | `Cli/Program.GenerateDeclarationsAsync` writes `<Assembly>.bindings.json` when transforms are active | Serialises the dictionary returned by `NameTransformApplicator.GetBindings()` |
| `Reflection/MetadataAssemblyLoader.cs` | Loads assemblies via `MetadataLoadContext` | `LoadFromAssemblyPath` |
| `Reflection/TypeForwardingResolver.cs` | Handles type-forwarding assemblies | `IsTypeForwardingAssembly`, `GetForwardedAssemblies` |
| `Reflection/TypeDispatcher.cs` | Routes CLR types to emitters | `ProcessType` |

Autogenerated files under `Src/obj` are omitted from this list.  When adding new
behaviour, update this table so future contributors can locate the relevant
module quickly.
